<div class="mapboxgl-filter-ctrl margin-0"
     data-ng-click="toggleLegend()"
     title="View legend">
    <div class="flex flex-dir-col flex-justify-center flex-align-center">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="24"
             height="24"
             viewBox="0 0 24 24"
             stroke-width="2"
             stroke="currentColor"
             fill="none"
             stroke-linecap="round"
             stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
            <rect x="4" y="4" width="16" height="16" rx="2"></rect>
            <polyline points="11 12 12 12 12 16 13 16"></polyline>
        </svg>
    </div>
</div>
<div class="map-filter-group flex flex-dir-row flex-align-center flex-justify-start"
     style="width: auto; cursor: pointer;"
     title="View legend">
    <div data-ng-click="toggleLegend()"
         class="flex flex-align-center flex-justify-center pad-l-50p pad-r-50p"
         style="max-width: 100%; font-size: .9rem; background: #FFFFFF; height: 30px; cursor: pointer;
         border-top-right-radius: .25rem; border-bottom-right-radius: .25rem; margin-left: -6px; user-select: none;">
        Legend
    </div>
</div>
<div data-ng-if="config.showLegend"
     class="map-filter-group rad-25 pad-1_5 margin-l-25p"
     style="display: grid; grid-template-rows: 1fr; grid-template-columns: max-content; width: auto; background:
     #FAFAFA; font-size: .875rem; box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1); position:absolute; top: 0; left: 100%;">
    <div class="pad-b-1">
        <span style="font-weight: 500;">Selected facility</span>
        <span class="facility-marker margin-t-50p"></span>
    </div>
    <div class="pad-b-1">
        <span style="font-weight: 500;">Associated facility</span>
        <span class="margin-t-50p"
              style="display: block; height: 20px; width: 20px; background: #FFB733; border-radius: 50%; border: 4px
              solid #FF3333;"></span>
    </div>
    <div class="pad-b-1">
        <span style="font-weight: 500;">Nearby facility</span>
        <span class="margin-t-50p"
              style="display: block; height: 20px; width: 20px; background: #FFB733; border-radius: 50%; border: 4px
        solid #ffd381;"></span>
    </div>
    <div class="pad-b-1">
        <span style="font-weight: 500;">Selected/associated pipeline</span>
        <span class="margin-t-50p"
              style="display: block; height: 4px; width: 80px; background: #FF3333;"></span>
    </div>
    <div class="">
        <span style="font-weight: 500;">Nearby pipeline</span>
        <span class="margin-t-50p"
              style="display: block; height: 4px; width: 80px; background: #FFB733;"></span>
    </div>
</div>